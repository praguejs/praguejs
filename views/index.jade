extends layout

block content
  section(role="main")
    .next-meetup
      - var nextDate = (locals.events && events[0] && events[0].date) ? events[0].date : "(couldnâ€™t retrieve calendar data)"
      h1 Next Meetup: !{nextDate}
      | <br>Venue is open at 17:50, talks start at 18:00:

    .talk-slots.grid-row
      - if (locals.events && events[0] && events[0].talk1)
        - var talk = events[0].talk1
        include includes/index/slot-taken
      - else
        include includes/index/slot-open

      - if (locals.events && events[0] && events[0].talk2)
        - var talk = events[0].talk2
        include includes/index/slot-taken
      - else
        include includes/index/slot-open

      - if (locals.events && events[0] && events[0].talk3)
        - var talk = events[0].talk3
        include includes/index/slot-taken
      - else
        include includes/index/slot-open

  - if (locals.slots)
    include includes/index/slots

  aside.grid-row(role="complementary")
    .grid-1-3
      h3#venue Venue
      include includes/venue/strv
    .grid-1-3
      h3 Got questions or talk proposals?
      p
        | JS Meetup is organized by <a href="https://twitter.com/abtris">Ladislav Prskavec</a>
        | Talk proposal send to <a href="mailto:ladislav@prskavec.net?subject=praguejs">administrator</a> with topic and short description.
      p
        | You can join ours <a href="https://www.facebook.com/events/1824742411090866/">facebook group</a>.
        | Calendar is available in <a href="https://calendar.google.com/calendar/ical/6gg9b82umvrktnjsfvegq1tb24%40group.calendar.google.com/public/basic.ics">iCal</a> format.
